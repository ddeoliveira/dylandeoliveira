<html>
<head>
    <link rel="stylesheet" media="screen" type="text/css" href="style.css"/>
</head>
<body>
    <div id="app">
        <h1>Projects</h1>
        <ul>
            <li class="card" v-for="item in items">
                <img :src="item['fields']['Photo'][0]['thumbnails']['large']['url']" alt="" v-if="item['fields']['Photo']" width="150">
                
                <h3>{{ item['fields']['Item'] }}</h3>
                <p><strong>Category: </strong>{{ item['fields']['Category'] }}</p>
                <a class="button" :href="item['fields']['URL']"> Voir plus</a>

            </li>
        </ul>            
    </div><!--app-->

    <script type="text/javascript" src="https://unpkg.com/vue"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.2/axios.min.js"></script>
    <script type="text/javascript">
        var app = new Vue({
            el: '#app',
            data: {
                items: []
            },
            mounted: function(){
               this.loadItems(); 
            },
            methods: {
                loadItems: function(){
                    
                    // Init variables
                    var self = this
                    var app_id = "appp3inudTpJ0e3zO";
                    var app_key = "keyu3FcfOEwGkjLYt";
                    this.items = []
axios.get(
                        "https://api.airtable.com/v0/"+app_id+"/Menu?view=Grid%20view",
                        { 
                            headers: { Authorization: "Bearer "+app_key } 
                        }
                    ).then(function(response){
                        self.items = response.data.records
                    }).catch(function(error){
                        console.log(error)
                    })
                }
            }
        })
    </script>
</body>
</html>

